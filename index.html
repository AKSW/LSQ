<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640">

    <link rel="stylesheet" href="stylesheets/core.css" media="screen">
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>LSQ by AKSW</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/AKSW/LSQ">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>LSQ</h1>
            <h2>The Linked SPARQL Queries Dataset</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/AKSW/LSQ/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/AKSW/LSQ/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h3>
<a id="lsq" class="anchor" href="#lsq" aria-hidden="true"><span class="octicon octicon-link"></span></a>LSQ</h3>

<p>A Linked Dataset describing SPARQL queries extracted from the logs of a variety of prominent public SPARQL endpoints. We argue that this dataset has a variety of uses for the SPARQL research community, be it, for example, to generate benchmarks on-the-fly by selecting real-world queries with specific characteristics that we describe, or to conduct analysis of what SPARQL (1.1) query features are most often used to interrogate endpoints, or to characterize the behavior of the different types of agents that are using these endpoints, or to find out what queries agents are asking about a given resource, etc. </p>

<h3>
<a id="sparql-endpoint" class="anchor" href="#sparql-endpoint" aria-hidden="true"><span class="octicon octicon-link"></span></a>SPARQL Endpoint</h3>

<p>LSQ <a href="http://titan.informatik.uni-leipzig.de:3333/sparql">SPARQL endpoint</a> is available online. Currently, we have RDFized query logs of DBpedia3.5.1, Linked Geo Data, Semantic Web Dog Food, and British Museum. If you want to query for a particular query log you can specify the following named graphs. </p>

<ul>
<li>DBpedia: <a href="http://dbpedia.org">http://dbpedia.org</a>
</li>
<li>Linked Geo Data: <a href="http://linkedgeodata.org">http://linkedgeodata.org</a>
</li>
<li>Semantic Web Dog Food: <a href="http://data.semanticweb.org">http://data.semanticweb.org</a>
</li>
<li>British Museum: <a href="http://bm.rkbexplorer.com">http://bm.rkbexplorer.com</a>
</li>
</ul>

<p>A list of example queries can be found at the bottom of this page. </p>

<h3>
<a id="datadumps" class="anchor" href="#datadumps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datadumps</h3>

<p>All the datadumps are available here. </p>

<h3>
<a id="datahub-entry" class="anchor" href="#datahub-entry" aria-hidden="true"><span class="octicon octicon-link"></span></a>Datahub Entry</h3>

<p>LSQ is <a href="http://datahub.io/dataset/lsq">available</a> at datahub as well.  </p>

<h3>
<a id="void-data" class="anchor" href="#void-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Void Data</h3>

<p>Our SPARQL endpoint directly provides the Void data for each of the query log. Below are the named graphs for Void</p>

<ul>
<li>DBpedia: <a href="http://dbpedia.org/void">http://dbpedia.org/void</a>
</li>
<li>Linked Geo Data: <a href="http://linkedgeodata.org/void">http://linkedgeodata.org/void</a>
</li>
<li>Semantic Web Dog Food: <a href="http://data.semanticweb.org/void">http://data.semanticweb.org/void</a>
</li>
<li>British Museum: <a href="http://bm.rkbexplorer.com/void">http://bm.rkbexplorer.com/void</a>
</li>
</ul>

<p>An example query to get DBpedia Void is given below </p>

<pre><code>SELECT * FROM &lt;http://dbpedia.org/void&gt;
WHERE {?s ?p ?o}
</code></pre>

<p>The output can be seen <a href="http://titan.informatik.uni-leipzig.de:3333/sparql?default-graph-uri=&amp;query=SELECT+*+FROM+%3Chttp%3A%2F%2Fdbpedia.org%2Fvoid%3E%0D%0AWHERE+%7B%3Fs+%3Fp+%3Fo%7D&amp;format=text%2Fhtml&amp;timeout=0&amp;debug=on">here</a></p>

<h3>
<a id="schema-diagram" class="anchor" href="#schema-diagram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Schema Diagram</h3>

<p><img src="https://sites.google.com/site/saleemsweb/home/LinkedSQL_Schema_V5.png" alt="LSQL Schema Diagram"></p>

<h3>
<a id="source-code" class="anchor" href="#source-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Source Code</h3>

<p>LSQ is open source. You can checkout the source code from <a href="https://github.com/AKSW/LSQ.git">LSQ Github</a>. You want to RDFize your own query log, you may use the following. </p>

<pre><code>Package:

Class:
</code></pre>

<h3>
<a id="example-sparql-queries" class="anchor" href="#example-sparql-queries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example SPARQL Queries</h3>

<p>Here is few of the example SPARQL queries. </p>

<pre><code>---Get custom benchmark of 50 queries having result size greater than 10 and triple patterns less
than 5 and query execution time less than 50(ms). Also the quereis must contains SPARQL FILTER---

PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
SELECT ?query  FROM &lt;http://data.semanticweb.org&gt;
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:resultSize ?resultSize .
    ?id lsqv:triplePatterns ?triplePatterns .
    ?id lsqv:runTimeMs ?runTime .
    ?id lsqv:usesFeature lsqv:Filter . 
   FILTER (?resultSize &gt; 10 &amp;&amp; ?triplePatterns &lt;5  &amp;&amp; ?runTime &lt; 50 ) 
}
LIMIT 50

---The number of queries containing UNION--- 
PREFIX lsqv: &lt;http://lsq.aksw.org/vocab#&gt;
SELECT COUNT(?queryId) AS ?UnionCount
WHERE {    ?queryId  lsqv:usesFeature lsqv:Union . }

---The number of queries of Star type---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
SELECT COUNT(?id) AS ?TotalStarQueries
WHERE {
?id lsqv:joinVertex  ?joinVertex . 
?joinVertex lsqv:joinVertexType lsqv:Star .
} 

---Get top query executions for smaller result set queries---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
SELECT DISTINCT ?id COUNT (?executions) AS ?executionsCount
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:resultSize ?resultSize .
    ?id lsqv:execution ?executions. 
   FILTER (?resultSize &lt;100)
}
  ORDER BY DESC(COUNT(?executions))

---How an agent tried to correct queries with parse errors?---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX lsqr:&lt;http://lsq.aksw.org/res/&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
PREFIX dct:&lt;http://purl.org/dc/terms/&gt;  
SELECT   ?query ?time 
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:parseError ?error .
    ?id lsqv:execution ?executions. 
    ?executions dct:issued  ?time .
    ?executions lsqv:agent lsqr:A-WlFJE0QQRlhBVRNGRx1QGVdaRhNsN2YUW15R
}

---Get average of the different SPARQL query features from DBpedia query log---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt; 
SELECT AVG(?resultSize) AS ?resultSizeAvg AVG(?bgps) AS ?bgpsAvg 
AVG(?triplePatterns) AS ?triplePatternsAvg AVG(?joinVertices) AS ?joinVerticesAvg
AVG(?meanJoinVerticesDegree) AS ?meanJoinVerticesDegreeAvg
AVG(?meanTriplePatternSelectivity) AS ?meanTriplePatternSelectivityAvg
AVG(?runTime) AS ?runTimeAvg FROM &lt;http://dbpedia.org&gt;
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:resultSize ?resultSize .
    ?id lsqv:bgps ?bgps.
    ?id lsqv:triplePatterns ?triplePatterns .
    ?id lsqv:joinVertices ?joinVertices .
    ?id lsqv:meanJoinVerticesDegree   ?meanJoinVerticesDegree .
    ?id lsqv:meanTriplePatternSelectivity ?meanTriplePatternSelectivity .
    ?id lsqv:runTimeMs ?runTime .
}

---Top queries by number of executions---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
SELECT DISTINCT ?id COUNT (?executions) AS ?executionsCount
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:execution ?executions.   
}
  ORDER BY DESC(COUNT(?executions))

---All queries which talk about Michael Jackson---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
SELECT  DISTINCT  ?object
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:mentionsPredicate &lt;http://xmlns.com/foaf/0.1/name&gt; .
    ?id lsqv:mentionsObject &lt;http://dbpedia.org/ontology/Michael_Jackson&gt; 
}
---Top agents by number of execution---
PREFIX lsqv:&lt;http://lsq.aksw.org/vocab#&gt;
PREFIX sp:&lt;http://spinrdf.org/sp#&gt;
SELECT DISTINCT ?agent COUNT (?executions) AS ?executionsCount
 WHERE {
    ?id sp:text ?query .
    ?id lsqv:execution ?executions .
    ?executions lsqv:agent  ?agent.  
     }
  ORDER BY DESC(COUNT(?executions))
</code></pre>

<h3>
<a id="issue-tracker-and-mailing-list" class="anchor" href="#issue-tracker-and-mailing-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Issue Tracker and Mailing List</h3>

<p>If you notice any issue, you may use LSQ <a href="https://github.com/AKSW/LSQ/issues">issue tracker</a>. Alternatively, you can contact any of the LSQ team member. We would be more than happy to reply as soon as possible. You may also use our Google mailing list for further discussion and suggestions. </p>

<h3>
<a id="lsq-team" class="anchor" href="#lsq-team" aria-hidden="true"><span class="octicon octicon-link"></span></a>LSQ Team</h3>

<ul>
<li>
<a href="https://sites.google.com/site/saleemsweb/">Muhammad Saleem</a> (Maintainer) </li>
<li><a href="http://www.intizarali.org">Intizar Ali</a></li>
<li><a href="https://www.deri.ie/users/qaiser-mehmood">Qaiser Mehmood</a></li>
<li><a href="http://aidanhogan.com/">Aidan Hogan</a></li>
<li><a href="http://aksw.org/AxelNgonga.html">Axel-Cyrille Ngonga Ngomo</a></li>
</ul>

<p>We are very thankful to Richard Cyganiak (TopQuadrant), Jens Lehmann (AKSW, Uni. Leipzig), Dimitris Kontokostas (AKSW, Uni. Leipzig), Ivan Ermilov (AKSW, Uni. Leipzig), and Hugh Glaser (Ethos VO Ltd) for providing query logs.</p>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/AKSW">AKSW</a> can be found on <a href="https://github.com/AKSW/LSQ">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="https://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-45389218-8");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
